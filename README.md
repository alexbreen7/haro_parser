# HARO Parser

Script to parse emails from HARO and send an SMS alert if keywords are found.  


# Getting Started

 

 1. Sign up for HARO
 2. Configure your Gmail Credentials
 3. Sign up for Twilio and configure your credentials. 
 4. Configure the script with your variables. 
 5. Automate it to run at the right times. 

### Sign Up For HARO
HARO (Help a Reporter Out) is a free newsletter that sends out 3 emails a day of journalists looking for sources. You can sign up at [helpareporter.com](https://www.helpareporter.com/subscriptions/basic/)

### Configure Your Gmail Credentials

This script is currently built to run on Gmail. It could easily be adapted to another service provider, but it's gmail for now. To configure the script to be able to read your emails:

 1. Follow these steps to create an [OAuth client ID](https://developers.google.com/workspace/guides/create-credentials#oauth-client-id)
 2. Save the JSON secret to the same directory as the script
 3. The first time you run the script, it will ask you to sign in to your account via the browser. This will generate the token that can be used for subsequent attempts.

If you are using Google Workspace, these tokens can usually last Indefinitely. If you are using gmail, you will have to refresh them weekly. 

### Sign up for Twilio and Configure Credentials

 1. Sign up for [Twilio](https://www.twilio.com/)
 2. Find your Twilio Auth token and SID ([Guide](https://www.twilio.com/blog/better-twilio-authentication-csharp-twilio-api-keys))
 3. Save those as environment variables: twilio_sid, twilio_token

### Configure the script with your variables. 
There are a handful of placeholders In the script that you will need to update. 

 - **from_:** The phone number you'd like the messages to come from. Must be a number in your Twilio account. 
 - **secret**: Path to Google OAuth secret
 - **token**: Path to token generated by past run of the script. (Or omit to authenticate via browser)
 - **keywords:** The keywords you'd like to monitor for. 
 - **your phone number:** The phone number you'd like to receive the SMS alerts at.  

### Automate the script to run at specific times. 
This is a pretty straightforward script, so I just set up a cron job that runs at 5:35, 12:35, and 5:35 EST. If you're unfamiliar with that you can follow [this Tutorial](https://towardsdatascience.com/how-to-schedule-python-scripts-with-cron-the-only-guide-youll-ever-need-deea2df63b4e)
